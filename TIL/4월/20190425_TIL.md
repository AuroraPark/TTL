### IoC 컨테이너(AC)로 APP만들기

1. AC를 만든다. - ApplicationContext구현 클래스의 생성
2. POJO클래스의 설정 메타정보 작성(ac에 대한 설정)
3. 빈의 등록과 사용(수동 - registerSingleton)

AC를 관리하는 이유는 싱글톤을 사용하려고 !

### POJO 클래스

> <-> EJB와 반대되는개념(Enterprise Java)
> POJO(Plain Old java Object)

- 의존 관계 : 
	- A가 B를 사용 할때 A와 B가 의존관계라고 함 ( 강결합 )
	- A - (interface) - B , 인터페이스를 이용한 약결합

### 스프링이 제공하는 것?

1. DI(IoC)
2. AOP
3. API기능

- 스프링 컨테이너 - 애플리케이션의 기본틀
- IoC/DI, 서비스 추상화, AOP
- 기술 API

#### IoC(Inversion of Control) - 의존성의 역전
자기가 사용할 것을 외부에서 결정해줌

#### DI(Dependenty Injection) - 의존성 주입
관리하고있는 객체를 스프링이 자동으로 의존성 주입

[IOC와 DI에 대하여](https://mo-world.tistory.com/entry/IOC%EC%99%80-DI-%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC-%EC%8A%A4%ED%94%84%EB%A7%81-%EA%B0%9C%EB%85%90-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-%EC%89%BD%EA%B2%8C-%EC%84%A4%EB%AA%85)


#### 서비스 추상화 - 느슨한 결합
언제든지 다른걸로 바꿔낄 수 있다.
추상화 이기 때문에 변경에 유리하다
스프링은 갈아끼우기 쉽게되어있음
디폴트 전략을 사용하면 된다
원하면 다른걸로 대체 하기 쉽다.

#### 기술 API


### IoC컨테이너(AC)와 DI
ac는 interface로 정의되어있음

#### AC(Static Application Context)의 역할
**1. 빈 팩토리의 역할(빈 생성, 빈 제공)**
**2. 빈들간의 관계를 설정해줌**

indexof로 타입 체크해서 빈 찾음
여러개면 qualify로 이름 붙이기
하지만 한개인 것이 좋다 

3. 외부 문서를 읽어올 수 있다

- 코드가 간결해짐
- 핵심 기능에만 집중 할 수 있다


## AOP
핵심적인 기능과 부가기능을 나눠놓은 것
- 목적이 다르기때문에
- = 관심사의 분리(SoC[Seperation of Concerns])
- 핵심로직(변하지 않는 것)
 부가적인 기능 (변하는것)

소프트 웨어 개발기간이 점점 짧아짐
왜? 테스트를 잘 할 수 있어서
### 기술 API

- 개발에 필요한 방대한 기술 API 제공
- 스프링 프로그래밍 모델을 준수
- J2EE 표준 기반
- 복잡한 EJB에서 벗어난 단순함!

### 스프링의 성공요인
- 단순함 : 복잡한 EJB비판, 단순한 POJO
- 유연함 : 뛰어난 유연성과 확장성, 안정성..

### 객체지향 설계원칙(SOLID)
- S - 단일 책임 원칙 : 
- 0- 개방폐쇄 원칙- 상속에는 열려있고 닫혀있는거
- L- 리스코프 치환원칙 - 다형성
- I- 인터페이스 분리 원칙 - 관리자와 사용자있을때 인터페이스를 분리할것  (일종의 관심사의 분리) 
- D-의존관계 역전원칙 

"" 공통적인것 "" 재사용성 높이기(중복제거)
"" 변화 "" 유연한 확장성, 느슨 결합

### 높은 응집도와 낮은 결합도	
- 높은 응집도 ( high coherence)
	- 하나의 책임(관심사에만) 집중되어있음
	- 관련된 것들이 빠짐없이 잘 모여있음

- 낮은 결합도(low coupling)
	- 책임(관심사)이다른 모듈과는 느슨한 연결
	- 변경이 쉬움

### 제어의 역전(Inversion of Control)
- 사용할 객체를 스스로 제어(선택 & 생성) 하지 않음
- 모든 객체 제어 권한을 다른 대상에게 위임

### 스프링의 IoC
- 스프링의 핵심 - Applivation Context(AC)
	- AC == DI(IoC)컨테이너== 스프링 컨테이너
-AC는  빈을 생성하고 관리(빈 팩토리의 확장)
-빈 - AC가 생성하고 관리하는 객체

### 용어정리

-bean : 스프링이 IoC방식으로 관리하는 객체
- 빈팩토리: 빈 관리
- ac - 빈팩토리를 확장한 기능, 각종 부가 서비스를 추가로 제공


### 스프링의 IoC
- 스프링은 기본적으로 빈 객체를 모두 싱글톤으로 만든다

### 싱글톤 패턴의 한계
- 생성자가 private이라서 상속할 수 없다
- 테스트하기 힘들다
- 분산 서버환경에서 싱글톤을 구현하기 어렵다
- 전역 상태를 만들 수 있기 때문에 바람직하지 않다.

-- enterprise 기술이 그래서 중요

### 스프링의 싱글톤
- 스프링은 직접 싱글톤 형태의 객체를 만들어 관리
- 평범한 자바 클래스를 싱글톤으로 활용하게 해준다
- 무상태(stateless) 방식의 객체 - iv 대신 lv 사용
	- 읽기전용인 경우에는 iv로 가능하나 static final을 붙이는 것을 고려

### DI - 의존 관계 주입
- 실행시에 주입
- 동적으로 결정됨(바껴도 컴파일 다시 안해도됨)
- 유연함!
- 코드 간결 
- 내가 안만들고 ac가 만들어주고 ac가 주입해줌
- (제 3의 존재가 결정)
- 의존 관계를 만들어 주려면 인터페이스에만 의존하고 있어야 한다

### 스프링 컨테이너의 초기 작업순서
설정 파일 읽기
...

### 생성은 무조건 되야하기 때문에
초기화 메서드와 생성을 관심사 분리 한다
- 개방 폐쇄 원칙에 의해

### 애너테이션 (자바 코드설정)과 XML 설정의 비교
자바 코드설정은 : 일괄적용이쉽고 자동완성이 쉬움
xml은 어렵다잉
자바 설정으로 가고있다 요즘엔


### 빈 등록 방법
1. bean 태그 이용
2. 자동등록도 가능하다(공통)
3. <aop:__> aop 전용 태그
4. 네임스페이스와 전용 태그
5. 자바코드로 빈등록


@Component

@Repository

@Service

@Controller

  
### 빈태그 장점

- 태그만 붙이면 된다
- xml을 이용한 빈 스캐너 등록 - 전용 태그로 간단히 빈 스캐너를 등록 가능
- 빈스캐너를 내장한 ac 사용(이미 가지고 있기 때문에 등록 할 필요 가 없다)

### 애너테이션에서의 빈 이름
- Conponent가 붙은 클래스의 이름 (첫글자 소문자 ) 이 자동으로 빈의 이름이 된다.

## 컨테이너가 자동 등록 하는 빈
- 이름이 없다면?
- [https://blog.outsider.ne.kr/552](https://blog.outsider.ne.kr/552)
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTIxNDcxMDgxOTksMTQ0MzA1Mzg4NCwzOD
AyNDY5MTIsLTIxNDcyMzY3MDAsNzM2OTc2NTI0LC00OTYyMTY0
NDUsODgzNDU4MTU3LC0xMDU1MDAzODg2LC0yMDEzODEwNTkwLC
04NTE5MjA4OTMsMTQ2NjcyOTAwNV19
-->