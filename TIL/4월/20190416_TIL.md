오늘의 아침 자습

jsp 공부

오늘의 SQL 수업

like
한글자 '_'
여러글자 '*'
select * from s_emp
where name like '박_';

> DUAL 은 가상 테이블

select chr(65) from dual; // 영어 'A'
select nchr(44032) from dual; // 한글 '가'
SELECT SYSDATE FROM DUAL; // 오늘 날짜

## 말일 구하기
SELECT TO_DATE('19/05/01')-1 FROM DUAL; // 익월에서 하루 빼면

## 월 반올림

SELECT ROUND(SYSDATE,'MONTH') FROM DUAL;

오늘 4/16
SELECT ADD_MONTHS(TRUNC(SYSDATE, 'MONTH'),1)-1 FROM DUAL;
TRUNC - 버림 4/1
ADD_MONTHS - 한달 더하기 5/1
-1 하면 - 4월 마지막날 4/30

결과 4/30

## 날짜-> 문자
SELECT TO_CHAR(SYSDATE, 'yyyy/MM/dd') FROM DUAL;


## update시 select 먼저!!!

-- 퀴즈 ) 박구곤이라는 사람의 mailid를 null로 변경하시오
--update s_emp set mailid = null 
select * from s_emp;
where name='박구곤';

## count(*) vs count(컬럼)시 - null값 고려

select count(*) from s_emp; --e_emp 테이블의 행의 개수 : 25
select count(mailid) from s_emp; --s_emp 테이블의 mailid컬럼의 값의 개수 : 24 // null 값은 카운팅 되지 않음


## GROUP BY

-- 부서별로 그룹화 -직책이 사원인 사람들의 평균연봉을 부서별로 구하시져
select dept_id, AVG(salary) 
from s_emp                  -- 1. 평균연봉을 구한다
where title = '사원'         -- 2. 사원인 사람들만
group by dept_id;           -- 3. 부서별로 구한다





<!--stackedit_data:
eyJoaXN0b3J5IjpbLTg3NjY5MTU3LDIxMDA2OTk5NTUsLTY3Mz
Q5Nzg4Myw1ODQ2OTIwMDMsLTE3ODk2Njc3NTNdfQ==
-->